<!DOCTYPE html>
<html lang="pt-BR">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel='stylesheet' href='/stylesheets/new_office_hour.css' />
  <link rel="shortcut icon" href="/images/favicons/android-chrome-192x192.png" type="image/x-icon" />
  <link rel="shortcut icon" href="/images/android-chrome-512x512.png" type="image/x-icon" />
  <link rel="shortcut icon" href="/images/apple-touch-icon.png" type="image/x-icon" />
  <link rel="shortcut icon" href="/images/favicon-16x16.png" type="image/x-icon" />
  <link rel="shortcut icon" href="/images/favicon-32x32.png" type="image/x-icon" />
  <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
    <title>Novo Expediente</title>
  </head>
  <body>
    <div class="container">
     <div class="container-form">
        <form action="/users/user/table_office_hours" method="POST">
          <div class="titulo-form">
            <div class="user-name">
              <h4>Id:</h4>
              <h5>019</h5>
              <h4>User:</h4>
              <h5 id="userName">Matheus</h5>
            </div>
            <div class="date">
             <h4>Day:</h4>
             <h5>Quarta-Feira</h5>    
              <h4>Date:</h4>
             <h5 id="data_atual"></h5>
           </div>
           <br>
          </div>
           <br>
          <div class="form-content">
           <input name="horario_entrada" id="horario_entrada" type="text" readonly />
           <input name="horario_saida" id="horario_saida" type="text" readonly=""/>
           <button id="botao_entrada" type="button">Iniciar</button>
           <button id="botao_saida" type="button" disabled>Encerrar</button>
           <input type="submit" name="submit" id="botao_submit" />
          </div>
        </form>
     </div>
    </div>
  </body>
  <script>
    const caption = document.querySelector("caption");
    const horario_entrada = document.querySelector("#horario_entrada");
    const horario_saida = document.querySelector("#horario_saida");
    const botao_entrada = document.querySelector("#botao_entrada");
    const botao_saida = document.querySelector("#botao_saida");
    const botao_submit = document.querySelector("#botao_submit");
    const data_atual = document.querySelector("#data_atual");
    // Cria um novo objeto Date para obter a data e a hora atuais
const dataAtual = new Date();

// Formata a data e a hora para o formato brasileiro (pt-BR)
const dataHoraFormatada = dataAtual.toLocaleString('pt-BR', {
  dateStyle: 'short',
  timeStyle: 'short'
});

console.log(dataHoraFormatada);

// Se você quiser apenas a data formatada
const dataFormatada = dataAtual.toLocaleDateString('pt-BR');

data_atual.innerHTML = dataFormatada;
// Cria um novo objeto Date para obter a data atual

// Obtém o nome do mês no formato pt-BR
const nomeMes = dataAtual.toLocaleString('pt-BR', { month: 'long' });

// Converte a primeira letra para maiúscula e o restante para minúscula
const nomeMesCapitalizado = nomeMes.charAt(0).toUpperCase() + nomeMes.slice(1);

console.log(nomeMesCapitalizado);

//caption.innerHTML = `<h3>${nomeMesCapitalizado}</h3>`;

// Se você quiser apenas a hora formatada
const horaFormatada = dataAtual.toLocaleTimeString('pt-BR');

console.log(horaFormatada);

botao_entrada.addEventListener("click", () => {
  const dataAtual = new Date();
  const horaFormatada = dataAtual.toLocaleTimeString('pt-BR');
 horario_entrada.value = horaFormatada;
 botao_saida.removeAttribute("disabled")
 botao_entrada.setAttribute("disabled", "on")
});

botao_saida.addEventListener("click", () => {
  const dataAtual = new Date();
  const horaFormatada = dataAtual.toLocaleTimeString('pt-BR');
 horario_saida.value = horaFormatada;
 botao_saida.setAttribute("disabled", "on");
 botao_submit.style.display = "block";
});
    
  </script>
</html>
